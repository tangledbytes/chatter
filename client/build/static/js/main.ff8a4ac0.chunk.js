(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{137:function(e,t){},140:function(e,t,a){},141:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(65),c=a.n(o),s=(a(78),a(10)),l=a(11),i=a(14),u=a(12),m=a(15),p=a(9),h=a(17),d=a(8),f=a(30),v=a.n(f),b=a(21),E=a.n(b),g=function(e){e?E.a.defaults.headers.common.Authorization=e:delete E.a.defaults.headers.common.Authorization},y=function(e){return{type:"SET_CURRENT_USER",payload:e}},w=function(){return function(e){localStorage.removeItem("jwt"),g(!1),e(y({}))}},_=a(16),O=a(67),j=a(68),k={isAuthenticated:!1,user:{}},S={},x=Object(_.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_CURRENT_USER":return Object(j.a)({},e,{isAuthenticated:0!==Object.keys(t.payload).length,user:t.payload});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"GET_ERRORS":return t.payload;default:return e}}}),N=[O.a],R=Object(_.e)(x,{},Object(_.d)(_.a.apply(void 0,N))),C=a(32),U=a.n(C),A=Object(d.b)(function(e){return{auth:e.auth}},{logoutUser:w})(Object(h.e)(function(e){var t=e.auth.isAuthenticated;return r.a.createElement("nav",{className:U.a.navbar},r.a.createElement("div",{className:U.a.navItems},r.a.createElement("div",null,r.a.createElement(p.b,{to:"/"},"Brand")),r.a.createElement("div",{className:U.a.div},t?r.a.createElement("button",{onClick:function(){e.history.push("/"),e.logoutUser()},style:{backgroundColor:"transparent",fontFamily:"inherit",color:"inherit",border:"none",fontSize:"1.1rem",cursor:"pointer"}},"Signout"):r.a.createElement("div",null,r.a.createElement(p.b,{to:e.link},e.name)))))})),I=a(70),F=a.n(I),D=function(e){return r.a.createElement("footer",{className:F.a.footer},r.a.createElement("p",null,"Property of Utkarsh Srivastava \xa9 ",(new Date).getFullYear()))},W=a(13),P=a(31),T=a(33),z=a.n(T),G=a(44),L=a.n(G),M=function(e){return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:e.name,className:L.a.for},e.label),r.a.createElement("input",{type:e.type,className:L.a.Input,name:e.name,onChange:function(t){return e.press?e.press(t.target.value,e.name):null}}))},B=a(34),H=a.n(B),V=function(e){switch(e.type){case"success":return r.a.createElement("button",{className:H.a.success,onClick:function(t){return e.click(t)}},e.name);case"danger":return r.a.createElement("button",{className:H.a.danger,onClick:function(t){return e.click(t)}},e.name);default:return r.a.createElement("button",{className:H.a.default,onClick:function(t){return e.click(t)}},e.name)}},Y=a(71),J=a.n(Y),q=function(e){return r.a.createElement("form",{className:J.a.Form,style:{height:e.height,width:e.width}},e.children)},K=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",auth:!1},a.submit=function(e){e.preventDefault(),a.props.loginUser({username:a.state.username,password:a.state.password})},a.save=function(e,t){a.setState(Object(W.a)({},t,e))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/chatter")}},{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&this.props.history.push("/chatter"),e.errors&&console.log(e.errors)}},{key:"render",value:function(){return r.a.createElement("div",{className:z.a.placeForm},r.a.createElement("div",{className:z.a.image},r.a.createElement("div",{className:z.a.Welcome},"Welcome to the chatter.",r.a.createElement("br",null)," Connect to your friends around the globe.")),r.a.createElement(q,{height:"24rem",width:"15vw"},r.a.createElement(P.Helmet,null,r.a.createElement("title",null,"Login")),r.a.createElement("h2",null,"Log In"),r.a.createElement("div",{style:{fontSize:"1rem",margin:"-0.5rem 0 1.5rem 0"}},"to continue to the Chatter app"),r.a.createElement(M,{type:"text",name:"username",label:"Username",press:this.save}),r.a.createElement(M,{type:"password",name:"password",label:"Password",press:this.save}),r.a.createElement("div",null,r.a.createElement(p.b,{to:"/sign-up",style:{textDecoration:"none"}},"Don't have an account yet?")),r.a.createElement(V,{name:"Login",click:this.submit}),this.state.auth?r.a.createElement(h.a,{to:"/chatter"}):null))}}]),t}(r.a.Component),Q=Object(d.b)(function(e){return{auth:e.auth,errors:e.errors}},{loginUser:function(e){return function(t){E.a.post("/api/login",e).then(function(e){console.log(e.data);var a=e.data.token;localStorage.setItem("jwt",a),g(a);var n=v()(a);t(y(n))}).catch(function(e){t({type:"GET_ERRORS",payload:e.response.data})})}}})(K),X=a(45),Z=a.n(X),$=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",password2:"",match:!0},a.submit=function(e){e.preventDefault(),a.state.match&&a.props.registerUser({username:a.state.username,password:a.state.password},a.props.history)},a.inputCheck=function(){a.state.password!==a.state.password2?a.setState({match:!1}):a.setState({match:!0})},a.save=function(e,t){a.setState(Object(W.a)({},t,e),function(){"password2"===t&&a.inputCheck()})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/chatter")}},{key:"componentWillReceiveProps",value:function(e){e.errors&&console.log("OH MY GOD!!")}},{key:"render",value:function(){return r.a.createElement("div",{className:Z.a.placeForm},r.a.createElement(q,{height:"32rem",width:"20vw"},r.a.createElement(P.Helmet,null,r.a.createElement("title",null,"SignUp")),this.state.match?null:r.a.createElement("div",{className:Z.a.flash},"Passwords don't match"),r.a.createElement("h2",null,"Sign Up"),r.a.createElement("div",{style:{fontSize:"1rem",margin:"-0.5rem 0 1.5rem 0"}},"And enjoy our exclusive chat service for free!"),r.a.createElement(M,{type:"text",name:"username",label:"Username",press:this.save}),r.a.createElement(M,{type:"password",name:"password",label:"Password",press:this.save}),r.a.createElement(M,{type:"password",name:"password2",label:"Confirm Password",press:this.save}),r.a.createElement("div",null,r.a.createElement(p.b,{to:"/",style:{textDecoration:"none"}},"Already have an account?")),r.a.createElement(V,{name:"Sign Up",type:"success",click:this.submit})))}}]),t}(r.a.Component),ee=Object(d.b)(function(e){return{auth:e.auth,errors:e.errors}},{registerUser:function(e,t){return function(a){E.a.post("/api/sign-up",e).then(function(e){return t.push("/")}).catch(function(e){return a({type:"GET_ERRORS",payload:e.response.data})})}}})(Object(h.e)($)),te=a(72),ae=a.n(te).a.connect("http://localhost:5000"),ne=function(e,t){ae.emit("connected",{sender:e,reciever:t})},re=function(e,t,a){ae.emit("private",{private:a,sender:e,reciever:t}),ae.on("hey",function(e){return console.log(e)})},oe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={reciever:"",message:""},a.press=function(e,t){a.setState(Object(W.a)({},t,e),function(){return console.log(a.state)})},a.submit=function(e){ne(a.props.auth.user.username,a.state.reciever)},a.chat=function(e){console.log("test"),re(a.props.auth.user.username,a.state.reciever,a.state.message)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(M,{type:"text",name:"reciever",label:"Reciever",press:this.press}),r.a.createElement(M,{type:"text",name:"message",label:"Messsage",press:this.press}),r.a.createElement(V,{type:"success",name:"Initiate",click:this.submit}),r.a.createElement(V,{type:"success",name:"Send Message",click:this.chat}))}}]),t}(r.a.Component),ce=Object(d.b)(function(e){return{auth:e.auth,errors:e.errors}},null)(oe);a(140);if(localStorage.getItem("jwt")){g(localStorage.getItem("jwt"));var se=v()(localStorage.getItem("jwt"));R.dispatch(y(se)),Date.now()<se.exp&&(R.dispatch(w()),window.location.href="/")}var le=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,{store:R},r.a.createElement(p.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(h.b,{path:"/",exact:!0,render:function(){return r.a.createElement(A,{name:"Sign Up",link:"/sign-up"})}}),r.a.createElement(h.b,{path:"/sign-up",exact:!0,render:function(){return r.a.createElement(A,{name:"Login",link:"/"})}}),r.a.createElement(h.b,{path:"/chatter",exact:!0,render:function(){return r.a.createElement(A,{name:"Signout",link:"/"})}}),r.a.createElement("main",{className:"container"},r.a.createElement(h.b,{path:"/",exact:!0,component:Q}),r.a.createElement(h.b,{path:"/sign-up",exact:!0,component:ee}),r.a.createElement(h.b,{path:"/chatter",exact:!0,component:ce})),r.a.createElement(D,null))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(le,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},32:function(e,t,a){e.exports={navbar:"navbar_navbar__1q8X2",navItems:"navbar_navItems__1Wi18",div:"navbar_div__355Pz"}},33:function(e,t,a){e.exports={placeForm:"login_placeForm__1pTeG",image:"login_image__3fpwt",Welcome:"login_Welcome__pm-bk"}},34:function(e,t,a){e.exports={default:"button_default__WnKnV",danger:"button_danger__1sY6T",success:"button_success__3OsO1"}},44:function(e,t,a){e.exports={Input:"input_Input__DtkgV",for:"input_for__1QN3l"}},45:function(e,t,a){e.exports={placeForm:"signup_placeForm__2z8P4"}},70:function(e,t,a){e.exports={footer:"footer_footer__Vr4ZL"}},71:function(e,t,a){e.exports={Form:"form_Form__16rR8"}},73:function(e,t,a){e.exports=a(141)},78:function(e,t,a){}},[[73,1,2]]]);
//# sourceMappingURL=main.ff8a4ac0.chunk.js.map